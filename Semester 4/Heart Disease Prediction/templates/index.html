<!DOCTYPE html>
<html>
<head>
    <title>Heart Disease Predictor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
<div class="container">
    <h2 class="mb-4">Heart Disease Prediction</h2>
    <form method="post">

        <div class="row mb-3">
            <div class="col-md-4">
                <label>Age</label>
                <input type="number" name="age" class="form-control" required>
            </div>

            <div class="col-md-4">
                <label>Sex</label>
                <select name="sex" class="form-control">
                    <option value="1">Male</option>
                    <option value="0">Female</option>
                </select>
            </div>

            <div class="col-md-4">
                <label>Chest Pain Type</label>
                <select name="cp" class="form-control">
                    <option value="0">Typical Angina</option>
                    <option value="1">Atypical Angina</option>
                    <option value="2">Non-Anginal Pain</option>
                    <option value="3">Asymptomatic</option>
                </select>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-4">
                <label>Resting Blood Pressure (mm Hg)</label>
                <input type="number" name="trestbps" class="form-control" required>
            </div>

            <div class="col-md-4">
                <label>Cholesterol (mg/dl)</label>
                <input type="number" name="chol" class="form-control" required>
            </div>

            <div class="col-md-4">
                <label>Fasting Blood Sugar &gt; 120 mg/dl?</label>
                <select name="fbs" class="form-control">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-4">
                <label>Resting ECG</label>
                <select name="restecg" class="form-control">
                    <option value="0">Normal</option>
                    <option value="1">ST-T Abnormality</option>
                    <option value="2">Left Ventricular Hypertrophy</option>
                </select>
            </div>

            <div class="col-md-4">
                <label>Max Heart Rate Achieved</label>
                <input type="number" name="thalach" class="form-control" required>
            </div>

            <div class="col-md-4">
                <label>Exercise Induced Angina?</label>
                <select name="exang" class="form-control">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-4">
                <label>Oldpeak (ST Depression)</label>
                <input type="number" step="any" name="oldpeak" class="form-control" required>
            </div>

            <div class="col-md-4">
                <label>Slope of Peak ST Segment</label>
                <select name="slope" class="form-control">
                    <option value="0">Upsloping</option>
                    <option value="1">Flat</option>
                    <option value="2">Downsloping</option>
                </select>
            </div>

            <div class="col-md-4">
                <label>Number of Major Vessels (0â€“3)</label>
                <select name="ca" class="form-control">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-4">
                <label>Thalassemia</label>
                <select name="thal" class="form-control">
                    <option value="1">Normal</option>
                    <option value="2">Fixed Defect</option>
                    <option value="3">Reversible Defect</option>
                </select>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Predict</button>
    </form>    {% if prediction %}
    <div class="mt-4 alert alert-info">
        <h4>Heart Disease Risk Assessment:</h4>
        <p class="fs-5">{{ prediction }}</p>
    </div>
    {% endif %}

    {% if gemini_response %}
    <div class="mt-3 alert alert-success">
        <h4>Gemini Advice:</h4>
        <p>{{ gemini_response }}</p>
    </div>
    {% endif %}
    
    {% if debug_info %}
    <div class="mt-3 alert alert-secondary">
        <h4>Debug Information:</h4>
        <p>{{ debug_info|safe }}</p>
    </div>
    {% endif %}
</div>
</body>
</html>
